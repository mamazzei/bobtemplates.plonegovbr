*** Settings ***

Library  Selenium2Library  timeout=5 seconds  implicit_wait=3 seconds
Variables  {{{ package.namespace }}}/{{{ package.namespace2 }}}/{{{ package.name }}}/tests/robot/variables.py

*** Keywords ***

Start Browser and Wake Plone Up

    Set Selenium Timeout  3s

    ${previous}  Register keyword to run on failure  Close Browser
    Wait until keyword succeeds  2min  3s  Open Browser  ${ZOPE_URL}  browser=${BROWSER}
    Register keyword to run on failure  ${previous}

    Maximize browser window

    Set Selenium Timeout  30s
    Wait until keyword succeeds  30s  1s  Log in  admin  admin
    Log out
    Set Selenium Timeout  3s

Goto Homepage
    Go to   ${PLONE_URL}
    Page should contain  Plone site

Log out
    Go to  ${PLONE_URL}/logout
    Page should contain  logged out

Log in
    [Arguments]  ${userid}  ${password}
    Go to  ${PLONE_URL}/login_form
    Page should contain element  __ac_name
    Input text  __ac_name  ${userid}
    Input text  __ac_password  ${password}
    Click Button  Log in
    Go to  ${PLONE_URL}

Start Browser and Log In
    Open Browser  ${PLONE_URL}  browser=${BROWSER}
    Log In As Site Owner

